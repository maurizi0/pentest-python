FROM ubuntu:22.04
ENV LANG=C.UTF-8
ENV DEBIAN_FRONTEND=noninteractive

# set RUN to bash
RUN rm /bin/sh && ln -s /bin/bash /bin/sh

# Install build dependencies
RUN set -e && \
    apt-get update && DEBIAN_FRONTEND=noninteractive apt-get install --assume-yes --no-install-recommends \
        binwalk \
        bsdmainutils \
        build-essential \
        curl \
        dnsutils \
        exiftool \
        file \
        git \
        hashcat \
        inetutils-ping \
        iproute2 \
        john \
        jq \
        ldap-utils \
        less \
        lib32ncurses5-dev \
        libffi-dev \
        libpoppler-cpp-dev \
        libssl-dev \
        ncat \
        ndiff \
        nfs-common \
        nmap \
        pipx \
        pkg-config \
        python3 \
        python3-dev \
        python3-pip \
        python3-venv \
        p7zip-full \
        rpcbind \
        sudo \
        tcpdump \
        traceroute \
        tshark \
        tzdata \
        unzip \
        vim \
        wget \
        xmlstarlet \
        zip \
    && apt-get clean autoclean \
    && apt-get autoremove --yes

# install tools
COPY ./install-tools.sh /install-tools.sh
RUN bash install-tools.sh

WORKDIR /share
CMD cd /share; bash
